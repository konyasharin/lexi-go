#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

echo "${BLUE}‚è≥ Running check-types...${NC}"
if ! pnpm run check-types; then
  echo "${RED}‚úñ Type check failed! Please fix errors before committing.${NC}"
  exit 1
fi

echo "${YELLOW}üîß Running fix...${NC}"
pnpm run fix || echo "${YELLOW}‚ö†Ô∏è Auto-fix completed with warnings${NC}"

echo "${BLUE}üîç Running lint...${NC}"
if ! pnpm run lint; then
  echo "${RED}‚úñ Lint errors found! Please fix them before committing.${NC}"
  exit 1
fi

echo "${GREEN}‚úî Pre-commit checks passed successfully!${NC}"
echo "${GREEN}üéâ You're ready to commit!${NC}"